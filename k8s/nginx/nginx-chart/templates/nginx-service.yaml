apiVersion: v1
kind: Service
metadata:
  name: nginx-service
  namespace: {{ .Values.deployment.namespace }}
spec:
  selector:
    app: {{ .Values.appName }}
  ports:
    - protocol: TCP
      port: {{ .Values.container.port }}  # Use the container port from values
      targetPort: {{ .Values.container.port }}
      nodePort: 30000  # Use nodePort from values
  type: NodePort

#apiVersion: v1
#kind: Service
#metadata:
#  name: nginx-service
#  namespace: {{ .Values.namespace }}
#spec:
#  selector:
#    app: nginx
#  ports:
#    - protocol: TCP
#      port: 80
#      targetPort: 80
#      nodePort: {{ .Values.nginx.service.nodePort | default 30002 }}
#  type: NodePort
